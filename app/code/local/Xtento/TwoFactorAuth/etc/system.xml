<?xml version="1.0"?>
<config>
    <tabs>
        <xtento translate="label">
            <label><![CDATA[<img src="//www.xtento.com/media/images/extension_logo.png" alt="XTENTO" height="20" style="vertical-align:bottom;margin-left:-1px;"/> XTENTO Extensions]]></label>
            <sort_order>650</sort_order>
        </xtento>
    </tabs>
    <sections>
        <twofactorauth translate="label" module="twofactorauth">
            <label>Two-Factor Authentication</label>
            <tab>xtento</tab>
            <sort_order>250</sort_order>
            <show_in_default>1</show_in_default>
            <show_in_website>0</show_in_website>
            <show_in_store>0</show_in_store>
            <groups>
                <general translate="label">
                    <label>Extension Configuration</label>
                    <frontend_type>text</frontend_type>
                    <!-- -->
                    <frontend_model>xtcore/system_config_form_xtento_module</frontend_model>
                    <data_model>twofactorauth/system_config_backend_server</data_model>
                    <module_name>Xtento_TwoFactorAuth</module_name>
                    <!-- -->
                    <sort_order>1</sort_order>
                    <show_in_default>1</show_in_default>
                    <show_in_website>0</show_in_website>
                    <show_in_store>0</show_in_store>
                    <expanded>1</expanded>
                    <comment>
                        <![CDATA[
                    <script>
                    function setCommentHtml(message) {
                        if (Prototype.Browser.IE) {
                            $('twofactorauth_general_serial').next('p').outerHTML = message;
                        } else {
                            $('twofactorauth_general_serial').next('p').innerHTML = message;
                        }
                    }
                    Event.observe(window, 'load', function() {
                        if ($('twofactorauth_general_server_name')) {
                            $('twofactorauth_general_server_name').style.backgroundColor='#f0f0f0';
                            $('twofactorauth_general_server_name').disable();
                            if ($('row_twofactorauth_general_server')) {
                                $('row_twofactorauth_general_server').hide();
                            }
                        }

                        if ($('twofactorauth_general_serial') && $('twofactorauth_general_serial').value !== '' && $('twofactorauth_general_server') && $('twofactorauth_general_server').value !== '') {
                            if ($('twofactorauth_general_serial').value.length !== 40) {
                                setCommentHtml('<a href="http://www.xtento.com" target="_blank"><img src="//www.xtento.com/license/check/?d='+$('twofactorauth_general_server').value+'" border="0" style="margin-top: 4px;"/></a>');
                            } else {
                                if (typeof $('twofactorauth_general_serial').nextSibling !== 'undefined' && typeof $('twofactorauth_general_serial').nextSibling.nextSibling !== 'undefined') {
                                    setCommentHtml('<a href="http://www.xtento.com" target="_blank"><img src="//www.xtento.com/license/check/?d='+$('twofactorauth_general_server').value+'" border="0" style="margin-top: 4px;"/></a>');
                                }
                            }
                        } else {
                            setCommentHtml('<a href="http://www.xtento.com" target="_blank"><img src="//www.xtento.com/license/check/?d='+$('twofactorauth_general_server').value+'" border="0" style="margin-top: 4px;"/></a>');
                        }
                    });
                    </script>
                    ]]>
                    </comment>
                    <fields>
                        <heading translate="label">
                            <label>Extension Configuration</label>
                            <frontend_model>xtcore/system_config_form_field_heading</frontend_model>
                            <sort_order>0</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                        </heading>
                        <server_name translate="label">
                            <label>Server Name</label>
                            <frontend_type>text</frontend_type>
                            <backend_model>twofactorauth/system_config_backend_servername</backend_model>
                            <sort_order>1</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>0</show_in_store>
                        </server_name>
                        <serial translate="label">
                            <label>License Key</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>5</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>0</show_in_store>
                            <comment>Enter your license key here</comment>
                        </serial>
                        <enabled translate="label">
                            <label>Module Enabled</label>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <backend_model>twofactorauth/system_config_backend_enabled</backend_model>
                            <sort_order>10</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>0</show_in_store>
                            <comment>A valid license key is required in order to enable the module.</comment>
                        </enabled>
                        <server translate="label">
                            <label/>
                            <frontend_type>hidden</frontend_type>
                            <backend_model>twofactorauth/system_config_backend_server</backend_model>
                            <sort_order>25</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>0</show_in_store>
                        </server>
                        <allow_ips translate="label comment">
                            <label>Disabled for IPs</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                            <comment>Enter IP addresses (comma separated) which don't have to use two factor authentication when logging in. This makes sense if you are accessing your Magento administration from a static IP address for example.</comment>
                        </allow_ips>
                    </fields>
                </general>
            </groups>
        </twofactorauth>
    </sections>
</config>
<!--
/**
 * Product:       Xtento_TwoFactorAuth (1.0.8)
 * ID:            ICP396wqk9khsjxTrTbiK7D1AGMzl30Dl+LUHA50d28=
 * Packaged:      2016-07-20T14:39:11+00:00
 * Last Modified: 2013-10-22T14:32:24+02:00
 * File:          app/code/local/Xtento/TwoFactorAuth/etc/system.xml
 * Copyright:     Copyright (c) 2015 XTENTO GmbH & Co. KG <info@xtento.com> / All rights reserved.
 */
-->