<?xml version="1.0"?>
<!-- 
/**
 * @category   Celigo
 * @package    Celigo_Connector
 * @author     Celigo Inc
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
 -->
<config>
    <modules>
        <Celigo_Connector>
            <version>3.0.4</version>
        </Celigo_Connector>
    </modules>
    <global>
		<helpers>
			<connector>
				<class>Celigo_Connector_Helper</class>
			</connector>
        </helpers>
        <blocks>
            <connector>
                <class>Celigo_Connector_Block</class>
            </connector>
        </blocks>
        <models>
            <connector>
                <class>Celigo_Connector_Model</class>
            </connector>
            <catalog>
                <rewrite>
                    <product_api>Celigo_Connector_Model_Product_Api</product_api>
                </rewrite>
            </catalog>
            <sales>
                <rewrite>
                    <order_invoice_api>Celigo_Connector_Model_Invoice_Api</order_invoice_api>
                </rewrite>
            </sales>            
        </models>
		<resources>
			<connector_setup> 
				<setup>
					<module>Celigo_Connector</module>
				</setup>
				<connection>
					<use>core_setup</use>
				</connection>
			</connector_setup>
			<connector_write>
				<connection>
					<use>core_write</use>
				</connection>
			</connector_write>
			<connector_read>
				<connection>
					<use>core_read</use>
				</connection>
			</connector_read>
		</resources> 
    </global>
    <frontend>
		<routers>
		  <celigomagentoconnector>
			<use>standard</use>
			<args>
			  <module>Celigo_Connector</module>
			  <frontName>celigomagentoconnector</frontName>
			</args>
		  </celigomagentoconnector>
		</routers>
        <events>
            <customer_save_commit_after>
                <observers>
                    <connector_customer_save_observer>
                        <class>connector/observer</class>
                        <method>customerSaveAfter</method>
                    </connector_customer_save_observer>
                </observers>
            </customer_save_commit_after>
            <customer_address_save_commit_after>
                <observers>
                    <connector_customer_address_observer>
                        <class>connector/observer</class>
                        <method>afterAddressSaveAfter</method>
                    </connector_customer_address_observer>
                </observers>
            </customer_address_save_commit_after>
			<checkout_onepage_controller_success_action>
                <observers>
                    <connector_onepage_observer>
                        <class>connector/observer</class>
                        <method>checkoutOnepageSuccussAction</method>
                    </connector_onepage_observer>
                </observers>
			</checkout_onepage_controller_success_action>
			<checkout_multishipping_controller_success_action>
                <observers>
                    <connector_multishipping_observer>
                        <class>connector/observer</class>
                        <method>checkoutOnepageSuccussAction</method>
                    </connector_multishipping_observer>
                </observers>
			</checkout_multishipping_controller_success_action>
			<sales_quote_payment_import_data_before>
                <observers>
                    <connector_quotepaymentimport_observer>
                        <class>connector/observer</class>
                        <method>salesQuotePaymentImportDataBefore</method>
                    </connector_quotepaymentimport_observer>
                </observers>
			</sales_quote_payment_import_data_before>
        </events>
    </frontend>
    <adminhtml>
        <events>
            <customer_save_commit_after>
                <observers>
                    <connector_customer_save_observer_admin>
                        <class>connector/observer</class>
                        <method>customerSaveAfter</method>
                    </connector_customer_save_observer_admin>
                </observers>
            </customer_save_commit_after>
			<sales_quote_payment_import_data_before>
                <observers>
                    <connector_quotepayment_observer>
                        <class>connector/observer</class>
                        <method>salesQuotePaymentImportDataBefore</method>
                    </connector_quotepayment_observer>
                </observers>
			</sales_quote_payment_import_data_before>
            <sales_order_save_commit_after>
                <observers>
                    <connector_sales_order_observer>
                        <class>connector/observer</class>
                        <method>orderSaveAfter</method>
                    </connector_sales_order_observer>
                </observers>
            </sales_order_save_commit_after>
        </events>
    </adminhtml>
    <admin>
        <routers>
			<connector>
				<use>admin</use>
				<args>
					<module>Celigo_Connector</module>
					<frontName>connector</frontName>
				</args>
			</connector>
        </routers>
    </admin>
    <default>
        <connector>
            <magentoconnector>
                <active>0</active>
            </magentoconnector>
            <logsettings>
                <enabled>0</enabled>
                <filename>celigo-magento-connector.log</filename>
            </logsettings>
			<othersettings>
                <customerflowid>MAGENTO_RT_CUSTOMER_IMPORT</customerflowid>
                <orderflowid>MAGENTO_RT_ORDER_IMPORT</orderflowid>
                <batchorderflowid>MAGENTO_RT_ORDER_IMPORT</batchorderflowid>
                <ordercancelflowid>MAGENTO_RT_ORDER_CANCELLATION_IMPORT</ordercancelflowid>
                <orderstatus>pending,processing</orderstatus>
                <async_sleep_time>0</async_sleep_time>
			</othersettings>
			<cronsettings>
                <enabled>1</enabled>
                <frequency>*/15 * * * *</frequency>
                <batchsize>0</batchsize>
			</cronsettings>
        </connector>
    </default>
    <crontab>
        <jobs>
            <push_orders_to_ns>
                <run>
                    <model>connector/cron::pushOrdersToNs</model>
                </run>
            </push_orders_to_ns>
        </jobs>
    </crontab>
</config>